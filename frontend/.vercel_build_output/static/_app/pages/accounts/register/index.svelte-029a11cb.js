import{S as z,i as G,s as Q,e as y,t as H,c as v,a as q,h as J,d as g,b as l,g as F,K as u,L as Y,k as E,X as $,m as N,Z as T,N as R,_ as x,O as ee,P as te,$ as ae,V as re,W as Z}from"../../../chunks/vendor-37e7558d.js";import{B as le,n as se,g as ne}from"../../../chunks/constants-3794c139.js";import"../../../chunks/singletons-a6a7384f.js";function ie(n){let e,t;return{c(){e=y("p"),t=H(n[6]),this.h()},l(r){e=v(r,"P",{class:!0});var i=q(e);t=J(i,n[6]),i.forEach(g),this.h()},h(){l(e,"class","center error")},m(r,i){F(r,e,i),u(e,t)},p:Y,d(r){r&&g(e)}}}function ue(n){let e,t;return{c(){e=y("button"),t=H("Register"),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0});var i=q(e);t=J(i,"Register"),i.forEach(g),this.h()},h(){l(e,"class","btn"),l(e,"type","submit"),e.disabled=!0},m(r,i){F(r,e,i),u(e,t)},d(r){r&&g(e)}}}function oe(n){let e,t;return{c(){e=y("button"),t=H("Register"),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0});var i=q(e);t=J(i,"Register"),i.forEach(g),this.h()},h(){l(e,"class","btn"),l(e,"type","submit")},m(r,i){F(r,e,i),u(e,t)},d(r){r&&g(e)}}}function pe(n){let e,t,r,i,P,U,s,o,O,d,j,h,S,_,B,p,m,c,K,A,C,L,M,V,k=n[6]&&ie(n);function W(a,b){return a[5]?oe:ue}let D=W(n),w=D(n);return{c(){e=E(),t=y("section"),r=y("h1"),i=H("Register"),P=E(),k&&k.c(),U=E(),s=y("form"),o=y("input"),O=E(),d=y("input"),j=E(),h=y("input"),S=E(),_=y("input"),B=E(),p=y("input"),m=E(),c=y("input"),K=E(),w.c(),this.h()},l(a){$('[data-svelte="svelte-f1nrop"]',document.head).forEach(g),e=N(a),t=v(a,"SECTION",{class:!0});var I=q(t);r=v(I,"H1",{});var X=q(r);i=J(X,"Register"),X.forEach(g),P=N(I),k&&k.l(I),U=N(I),s=v(I,"FORM",{class:!0});var f=q(s);o=v(f,"INPUT",{type:!0,"aria-label":!0,placeholder:!0}),O=N(f),d=v(f,"INPUT",{type:!0,"aria-label":!0,placeholder:!0}),j=N(f),h=v(f,"INPUT",{type:!0,"aria-label":!0,placeholder:!0}),S=N(f),_=v(f,"INPUT",{type:!0,"aria-label":!0,placeholder:!0}),B=N(f),p=v(f,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0}),m=N(f),c=v(f,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0}),K=N(f),w.l(f),f.forEach(g),I.forEach(g),this.h()},h(){document.title="Register",l(o,"type","email"),l(o,"aria-label","Email address"),l(o,"placeholder","Email address"),o.required=!0,l(d,"type","text"),l(d,"aria-label","Username"),l(d,"placeholder","Username"),d.required=!0,l(h,"type","text"),l(h,"aria-label","Full name"),l(h,"placeholder","Full name"),h.required=!0,l(_,"type","text"),l(_,"aria-label","Brief bio"),l(_,"placeholder","Tell us about yourself..."),_.required=!0,l(p,"type","password"),l(p,"name","password"),l(p,"aria-label","password"),l(p,"placeholder","password"),p.required=!0,l(c,"type","password"),l(c,"name","confirmPassword"),l(c,"aria-label","Confirm password"),l(c,"placeholder","Confirm password"),c.required=!0,l(s,"class","form"),l(t,"class","container")},m(a,b){F(a,e,b),F(a,t,b),u(t,r),u(r,i),u(t,P),k&&k.m(t,null),u(t,U),u(t,s),u(s,o),T(o,n[0]),u(s,O),u(s,d),T(d,n[3]),u(s,j),u(s,h),T(h,n[1]),u(s,S),u(s,_),T(_,n[2]),u(s,B),u(s,p),T(p,n[4]),u(s,m),u(s,c),T(c,n[5]),u(s,K),w.m(s,null),L=!0,M||(V=[R(o,"input",n[8]),R(d,"input",n[9]),R(h,"input",n[10]),R(_,"input",n[11]),R(p,"input",n[12]),R(c,"input",n[13]),R(s,"submit",x(n[7]))],M=!0)},p(a,[b]){a[6]&&k.p(a,b),b&1&&o.value!==a[0]&&T(o,a[0]),b&8&&d.value!==a[3]&&T(d,a[3]),b&2&&h.value!==a[1]&&T(h,a[1]),b&4&&_.value!==a[2]&&T(_,a[2]),b&16&&p.value!==a[4]&&T(p,a[4]),b&32&&c.value!==a[5]&&T(c,a[5]),D!==(D=W(a))&&(w.d(1),w=D(a),w&&(w.c(),w.m(s,null)))},i(a){L||(ee(()=>{C&&C.end(1),A=re(t,Z,{y:100,duration:500,delay:500}),A.start()}),L=!0)},o(a){A&&A.invalidate(),C=te(t,Z,{duration:500}),L=!1},d(a){a&&g(e),a&&g(t),k&&k.d(),w.d(),a&&C&&C.end(),M=!1,ae(V)}}}function ce(n,e,t){let r="",i="",P="",U="",s="",o="",O="";const d=async()=>{await fetch(`${le}/register/`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:r,username:U,password:s,bio:P,full_name:i}})}).then(m=>{m.status===201?(se.update(c=>[...c,"Registration successful. Login now."]),ne("/accounts/login"),console.log("User:",m.json())):m.status===400&&console.log(m.json())}).catch(m=>{m=m,console.error("Error:",m)})};function j(){r=this.value,t(0,r)}function h(){U=this.value,t(3,U)}function S(){i=this.value,t(1,i)}function _(){P=this.value,t(2,P)}function B(){s=this.value,t(4,s)}function p(){o=this.value,t(5,o)}return[r,i,P,U,s,o,O,d,j,h,S,_,B,p]}class _e extends z{constructor(e){super();G(this,e,ce,pe,Q,{})}}export{_e as default};
